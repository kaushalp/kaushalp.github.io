---
id: 122
title: Do we need to install/move IIS related folders to a non-System drive?
date: 2012-09-19T05:27:25+00:00
author: kaushal
layout: post
guid: https://blogs.msdn.microsoft.com/kaushal/2012/09/19/do-we-need-to-installmove-iis-related-folders-to-a-non-system-drive/
permalink: /2012/09/19/do-we-need-to-installmove-iis-related-folders-to-a-non-system-drive/
orig_url:
  - http://blogs.msdn.microsoft.com/b/kaushal/archive/2012/09/19/do-we-need-to-install-move-iis-related-folders-to-a-non-system-drive.aspx
  - http://blogs.msdn.microsoft.com/b/kaushal/archive/2012/09/19/do-we-need-to-install-move-iis-related-folders-to-a-non-system-drive.aspx
  - http://blogs.msdn.microsoft.com/b/kaushal/archive/2012/09/19/do-we-need-to-install-move-iis-related-folders-to-a-non-system-drive.aspx
orig_site_id:
  - "13803"
  - "13803"
  - "13803"
orig_post_id:
  - "10350789"
  - "10350789"
  - "10350789"
orig_parent_id:
  - "10350789"
  - "10350789"
  - "10350789"
orig_application_key:
  - kaushal
  - kaushal
  - kaushal
orig_post_author_id:
  - "213737"
  - "213737"
  - "213737"
orig_post_author_username:
  - djkaushal
  - djkaushal
  - djkaushal
orig_post_author_created:
  - 2009-07-24 14:00:49.000
  - 2009-07-24 14:00:49.000
  - 2009-07-24 14:00:49.000
orig_is_approved:
  - "1"
  - "1"
  - "1"
orig_url_title:
  - http://blogs.msdn.com/b/kaushal/archive/2012/09/19/do-we-need-to-installmove-iis-related-folders-to-a-non-system-drive.aspx
  - http://blogs.msdn.com/b/kaushal/archive/2012/09/19/do-we-need-to-installmove-iis-related-folders-to-a-non-system-drive.aspx
  - http://blogs.msdn.com/b/kaushal/archive/2012/09/19/do-we-need-to-installmove-iis-related-folders-to-a-non-system-drive.aspx
orig_post_name:
  - do we need to install move iis related folders to a non system drive
  - do we need to install move iis related folders to a non system drive
  - do we need to install move iis related folders to a non system drive
orig_thread_id:
  - "821013"
  - "821013"
  - "821013"
orig_post_author_email:
  - kaushalp@microsoft.com
  - kaushalp@microsoft.com
  - kaushalp@microsoft.com
orig_attachment_count:
  - "0"
  - "0"
  - "0"
total_views:
  - "5085"
  - "5085"
  - "5085"
opengraph_tags:
  - |
    <meta property="og:type" content="article" />
    <meta property="og:title" content="Do we need to install/move IIS related folders to a non-System drive?" />
    <meta property="og:url" content="https://blogs.msdn.microsoft.com/kaushal/2012/09/19/do-we-need-to-installmove-iis-related-folders-to-a-non-system-drive/" />
    <meta property="og:site_name" content="Unleashed" />
    <meta property="og:description" content="It is not possible to install IIS on a non-system drive. Well “not possible” may be too restrictive, I would say it is not recommended or not supported to do so. At CSS we see a lot of issues relating to the above topic. One needs to relocate (or even Install) the IIS related folder..." />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Do we need to install/move IIS related folders to a non-System drive?" />
    <meta name="twitter:url" content="https://blogs.msdn.microsoft.com/kaushal/2012/09/19/do-we-need-to-installmove-iis-related-folders-to-a-non-system-drive/" />
    <meta name="twitter:description" content="It is not possible to install IIS on a non-system drive. Well “not possible” may be too restrictive, I would say it is not recommended or not supported to do so. At CSS we see a lot of issues relating to the above topic. One needs to relocate (or even Install) the IIS related folder..." />
    
  - |
    <meta property="og:type" content="article" />
    <meta property="og:title" content="Do we need to install/move IIS related folders to a non-System drive?" />
    <meta property="og:url" content="https://blogs.msdn.microsoft.com/kaushal/2012/09/19/do-we-need-to-installmove-iis-related-folders-to-a-non-system-drive/" />
    <meta property="og:site_name" content="Unleashed" />
    <meta property="og:description" content="It is not possible to install IIS on a non-system drive. Well “not possible” may be too restrictive, I would say it is not recommended or not supported to do so. At CSS we see a lot of issues relating to the above topic. One needs to relocate (or even Install) the IIS related folder..." />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Do we need to install/move IIS related folders to a non-System drive?" />
    <meta name="twitter:url" content="https://blogs.msdn.microsoft.com/kaushal/2012/09/19/do-we-need-to-installmove-iis-related-folders-to-a-non-system-drive/" />
    <meta name="twitter:description" content="It is not possible to install IIS on a non-system drive. Well “not possible” may be too restrictive, I would say it is not recommended or not supported to do so. At CSS we see a lot of issues relating to the above topic. One needs to relocate (or even Install) the IIS related folder..." />
    
  - |
    <meta property="og:type" content="article" />
    <meta property="og:title" content="Do we need to install/move IIS related folders to a non-System drive?" />
    <meta property="og:url" content="https://blogs.msdn.microsoft.com/kaushal/2012/09/19/do-we-need-to-installmove-iis-related-folders-to-a-non-system-drive/" />
    <meta property="og:site_name" content="Unleashed" />
    <meta property="og:description" content="It is not possible to install IIS on a non-system drive. Well “not possible” may be too restrictive, I would say it is not recommended or not supported to do so. At CSS we see a lot of issues relating to the above topic. One needs to relocate (or even Install) the IIS related folder..." />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Do we need to install/move IIS related folders to a non-System drive?" />
    <meta name="twitter:url" content="https://blogs.msdn.microsoft.com/kaushal/2012/09/19/do-we-need-to-installmove-iis-related-folders-to-a-non-system-drive/" />
    <meta name="twitter:description" content="It is not possible to install IIS on a non-system drive. Well “not possible” may be too restrictive, I would say it is not recommended or not supported to do so. At CSS we see a lot of issues relating to the above topic. One needs to relocate (or even Install) the IIS related folder..." />
    
categories:
  - Uncategorized
---
<font size="3" face="Segoe UI">It is not possible to install IIS on a non-system drive. Well “<strong>not possible</strong>” may be too restrictive, I would say it is not recommended or not supported to do so.</font>

<font size="3" face="Segoe UI">At <strong>CSS</strong> we see a lot of issues relating to the above topic. One needs to relocate (or even Install) the IIS related folder to other drive than system drive. </font>

<font size="3" face="Segoe UI">They say that it is a <strong>Security Vulnerability</strong>. This is the confusing part.<font style="background-color: rgb(255, 255, 0);"> What is this <strong>Vulnerability</strong>?</font> </font>

  * <font size="3" face="Segoe UI">The important point is how the web-application is configured and not where <strong>IIS </strong>is installed. None of the application will ever have access to the IIS related folders. </font>
  * <font size="3" face="Segoe UI">Consider a scenario where you configure your application to run under the context of an <strong>administrator </strong>or <strong>Local System</strong>. If the application is compromised, then the entire server is compromised.</font>
  * <font size="3" face="Segoe UI">Irrespective of where the application is installed, if it is not configured properly, then it is of now use where or how you install the web-app.</font>

<font size="3" face="Segoe UI">The recommended suggestion is to configure your application on a non-system drive, so that in case if there is a compromise, it doesn’t have access to system drive.</font>

<font size="3" face="Segoe UI">NOTE: W3WP.exe cannot access the IIS Installation folders or Data directories. You can restrict access to folders on the server via NTFS permissions.</font>

<font size="3" face="Segoe UI">It is neither supported nor recommended to delete or re-locate the original IIS directories. A support article has been issued to address this situation.</font>

<font size="3" face="Segoe UI"><font style="background-color: rgb(255, 255, 0);">Here is the link: </font><a title="http://support.microsoft.com/kb/2752331" href="http://support.microsoft.com/kb/2752331"><font style="background-color: rgb(255, 255, 0);">http://support.microsoft.com/kb/2752331</font></a>&#160;</font>

<font size="3" face="Segoe UI">This contains the script that can be used to relocate the IIS data directories to a non-system drive keeping the original directories intact.</font>

<table cellspacing="0" cellpadding="2" width="591" border="3">
  <tr>
    <td valign="top" width="589">
      <p align="justify">
        <font size="3" face="Segoe UI"><strong>NOTE</strong>: Do not delete the original directories under “<strong>%systemdrive%/inetpub</strong>”. Don’t even think of touching the <strong>INETSRV </strong>folder. The script in the above support article re-configures the folders to another non-system drive. During event of Windows Update, the original directories will be updated and not the re-configured ones. So, now you know why they should not be deleted.</font>
      </p>
    </td>
  </tr>
</table>
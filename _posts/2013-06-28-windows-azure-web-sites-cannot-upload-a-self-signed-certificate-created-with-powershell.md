---
id: 304
title: 'Windows Azure Web Sites : Cannot upload a Self-Signed Certificate created with PowerShell'
date: 2013-06-28T14:38:05+00:00
author: kaushal
layout: post
guid: https://blogs.msdn.microsoft.com/kaushal/2013/06/28/windows-azure-web-sites-cannot-upload-a-self-signed-certificate-created-with-powershell/
permalink: /2013/06/28/windows-azure-web-sites-cannot-upload-a-self-signed-certificate-created-with-powershell/
orig_url:
  - http://blogs.msdn.microsoft.com/b/kaushal/archive/2013/06/29/windows-azure-web-sites-cannot-upload-a-self-signed-certificate-created-with-powershell.aspx
  - http://blogs.msdn.microsoft.com/b/kaushal/archive/2013/06/29/windows-azure-web-sites-cannot-upload-a-self-signed-certificate-created-with-powershell.aspx
  - http://blogs.msdn.microsoft.com/b/kaushal/archive/2013/06/29/windows-azure-web-sites-cannot-upload-a-self-signed-certificate-created-with-powershell.aspx
orig_site_id:
  - "13803"
  - "13803"
  - "13803"
orig_post_id:
  - "10430230"
  - "10430230"
  - "10430230"
orig_parent_id:
  - "10430230"
  - "10430230"
  - "10430230"
orig_application_key:
  - kaushal
  - kaushal
  - kaushal
orig_post_author_id:
  - "213737"
  - "213737"
  - "213737"
orig_post_author_username:
  - djkaushal
  - djkaushal
  - djkaushal
orig_post_author_created:
  - 2009-07-24 14:00:49.000
  - 2009-07-24 14:00:49.000
  - 2009-07-24 14:00:49.000
orig_is_approved:
  - "1"
  - "1"
  - "1"
orig_url_title:
  - http://blogs.msdn.com/b/kaushal/archive/2013/06/28/windows-azure-web-sites-cannot-upload-a-self-signed-certificate-created-with-powershell.aspx
  - http://blogs.msdn.com/b/kaushal/archive/2013/06/28/windows-azure-web-sites-cannot-upload-a-self-signed-certificate-created-with-powershell.aspx
  - http://blogs.msdn.com/b/kaushal/archive/2013/06/28/windows-azure-web-sites-cannot-upload-a-self-signed-certificate-created-with-powershell.aspx
orig_post_name:
  - windows azure web sites cannot upload a self signed certificate created with powershell
  - windows azure web sites cannot upload a self signed certificate created with powershell
  - windows azure web sites cannot upload a self signed certificate created with powershell
orig_thread_id:
  - "847317"
  - "847317"
  - "847317"
orig_post_author_email:
  - kaushalp@microsoft.com
  - kaushalp@microsoft.com
  - kaushalp@microsoft.com
orig_attachment_count:
  - "0"
  - "0"
  - "0"
total_views:
  - "1646"
  - "1646"
  - "1646"
opengraph_tags:
  - |
    <meta property="og:type" content="article" />
    <meta property="og:title" content="Windows Azure Web Sites : Cannot upload a Self-Signed Certificate created with PowerShell" />
    <meta property="og:url" content="https://blogs.msdn.microsoft.com/kaushal/2013/06/28/windows-azure-web-sites-cannot-upload-a-self-signed-certificate-created-with-powershell/" />
    <meta property="og:site_name" content="Unleashed" />
    <meta property="og:description" content="As SSL functionality was added to Windows Azure Web Sites, I started playing around with it. I was trying to upload self-signed certificates when I ran into a issue. I created a self-signed certificate using Windows PowerShell ISE (New-SelfSignedCertificate Module). Below is a snippet of the command I ran: New-SelfSignedCertificate -CertStoreLocation cert:LocalMachineMy -DnsName www.kaushalz.com I..." />
    <meta property="og:image" content="https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/01/38/03/metablogapi/2548.image_thumb_4259BC96.png" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Windows Azure Web Sites : Cannot upload a Self-Signed Certificate created with PowerShell" />
    <meta name="twitter:url" content="https://blogs.msdn.microsoft.com/kaushal/2013/06/28/windows-azure-web-sites-cannot-upload-a-self-signed-certificate-created-with-powershell/" />
    <meta name="twitter:description" content="As SSL functionality was added to Windows Azure Web Sites, I started playing around with it. I was trying to upload self-signed certificates when I ran into a issue. I created a self-signed certificate using Windows PowerShell ISE (New-SelfSignedCertificate Module). Below is a snippet of the command I ran: New-SelfSignedCertificate -CertStoreLocation cert:LocalMachineMy -DnsName www.kaushalz.com I..." />
    <meta name="twitter:image" content="https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/01/38/03/metablogapi/2548.image_thumb_4259BC96.png" />
    
  - |
    <meta property="og:type" content="article" />
    <meta property="og:title" content="Windows Azure Web Sites : Cannot upload a Self-Signed Certificate created with PowerShell" />
    <meta property="og:url" content="https://blogs.msdn.microsoft.com/kaushal/2013/06/28/windows-azure-web-sites-cannot-upload-a-self-signed-certificate-created-with-powershell/" />
    <meta property="og:site_name" content="Unleashed" />
    <meta property="og:description" content="As SSL functionality was added to Windows Azure Web Sites, I started playing around with it. I was trying to upload self-signed certificates when I ran into a issue. I created a self-signed certificate using Windows PowerShell ISE (New-SelfSignedCertificate Module). Below is a snippet of the command I ran: New-SelfSignedCertificate -CertStoreLocation cert:LocalMachineMy -DnsName www.kaushalz.com I..." />
    <meta property="og:image" content="https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/01/38/03/metablogapi/2548.image_thumb_4259BC96.png" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Windows Azure Web Sites : Cannot upload a Self-Signed Certificate created with PowerShell" />
    <meta name="twitter:url" content="https://blogs.msdn.microsoft.com/kaushal/2013/06/28/windows-azure-web-sites-cannot-upload-a-self-signed-certificate-created-with-powershell/" />
    <meta name="twitter:description" content="As SSL functionality was added to Windows Azure Web Sites, I started playing around with it. I was trying to upload self-signed certificates when I ran into a issue. I created a self-signed certificate using Windows PowerShell ISE (New-SelfSignedCertificate Module). Below is a snippet of the command I ran: New-SelfSignedCertificate -CertStoreLocation cert:LocalMachineMy -DnsName www.kaushalz.com I..." />
    <meta name="twitter:image" content="https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/01/38/03/metablogapi/2548.image_thumb_4259BC96.png" />
    
  - |
    <meta property="og:type" content="article" />
    <meta property="og:title" content="Windows Azure Web Sites : Cannot upload a Self-Signed Certificate created with PowerShell" />
    <meta property="og:url" content="https://blogs.msdn.microsoft.com/kaushal/2013/06/28/windows-azure-web-sites-cannot-upload-a-self-signed-certificate-created-with-powershell/" />
    <meta property="og:site_name" content="Unleashed" />
    <meta property="og:description" content="As SSL functionality was added to Windows Azure Web Sites, I started playing around with it. I was trying to upload self-signed certificates when I ran into a issue. I created a self-signed certificate using Windows PowerShell ISE (New-SelfSignedCertificate Module). Below is a snippet of the command I ran: New-SelfSignedCertificate -CertStoreLocation cert:LocalMachineMy -DnsName www.kaushalz.com I..." />
    <meta property="og:image" content="https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/01/38/03/metablogapi/2548.image_thumb_4259BC96.png" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Windows Azure Web Sites : Cannot upload a Self-Signed Certificate created with PowerShell" />
    <meta name="twitter:url" content="https://blogs.msdn.microsoft.com/kaushal/2013/06/28/windows-azure-web-sites-cannot-upload-a-self-signed-certificate-created-with-powershell/" />
    <meta name="twitter:description" content="As SSL functionality was added to Windows Azure Web Sites, I started playing around with it. I was trying to upload self-signed certificates when I ran into a issue. I created a self-signed certificate using Windows PowerShell ISE (New-SelfSignedCertificate Module). Below is a snippet of the command I ran: New-SelfSignedCertificate -CertStoreLocation cert:LocalMachineMy -DnsName www.kaushalz.com I..." />
    <meta name="twitter:image" content="https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/01/38/03/metablogapi/2548.image_thumb_4259BC96.png" />
    
categories:
  - Uncategorized
tags:
  - PowerShell
  - SSL
  - Windows Azure
  - Windows Azure Web Sites
---
<font size="2">As SSL functionality was added to <strong>Windows Azure Web Sites</strong>, I started playing around with it. I was trying to upload self-signed certificates when I ran into a issue.</font>

<font size="2">I created a self-signed certificate using <strong>Windows PowerShell ISE (</strong><font size="2"><font color="#000000"><strong>New-SelfSignedCertificate</strong> Module</font></font><strong>)</strong>. Below is a snippet of the command I ran:</font>

<table cellspacing="0" cellpadding="2" width="779" bgcolor="#0000ff" border="1">
  <tr>
    <td valign="top" width="777">
      <font color="#ffffff" face="Consolas">New-SelfSignedCertificate <font color="#ffff00">-CertStoreLocation</font> <font color="#ff80ff">cert:\LocalMachine\My</font> <font color="#ffff00">-DnsName</font> <font color="#ff80ff">www.kaushalz.com</font></font>
    </td>
  </tr>
</table>

<font size="2">I exported the certificate in the <strong>PFX </strong>format and then tried uploading the certificate to <strong>WAWS.</strong></font>

<a href="https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/01/38/03/metablogapi/0042.image_19BB508F.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-01-38-03-metablogapi/0042.image_5F00_19BB508F.png"><img title="image" style="margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" border="0" alt="image" src="https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/01/38/03/metablogapi/2548.image_thumb_4259BC96.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-01-38-03-metablogapi/2548.image_5F00_thumb_5F00_4259BC96.png" width="494" height="335" /></a>

 <font size="2">But it threw an error as shown below:</font>

<a href="https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/01/38/03/metablogapi/3157.image_146EFA8F.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-01-38-03-metablogapi/3157.image_5F00_146EFA8F.png"><img title="image" style="margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" border="0" alt="image" src="https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/01/38/03/metablogapi/3404.image_thumb_6AFAB94E.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-01-38-03-metablogapi/3404.image_5F00_thumb_5F00_6AFAB94E.png" width="805" height="123" /></a>

<font size="2">I clicked on <strong>DETAILS</strong>, and it showed up this.</font>

<a href="https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/01/38/03/metablogapi/2055.image_1A4C2ED9.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-01-38-03-metablogapi/2055.image_5F00_1A4C2ED9.png"><img title="image" style="margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" border="0" alt="image" src="https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/01/38/03/metablogapi/3487.image_thumb_57DC1D53.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-01-38-03-metablogapi/3487.image_5F00_thumb_5F00_57DC1D53.png" width="777" height="183" /></a>

<font size="2">Out of curiosity I wondered if <strong>WAWS</strong> allowed <strong>self-signed</strong> certificates to be uploaded. So I created a self-signed certificate via <strong>IIS Manager</strong> and exported it in <strong>PFX</strong> format and tried uploading it on to <strong>WAWS</strong>. This was successful, no errors at all.</font>

<font size="2">Even a self-signed certificate created using <strong>selfssl.exe</strong> tool could be uploaded to <strong>WAWS</strong>.</font>

<font size="2">It seems that the certificate created using PowerShell misses keyset permissions which doesn’t work well with WAWS. I see this as a limitation with PowerShell. However, I’m no PowerShell expert to confirm if nothing can be done further.</font>

<font size="2">&#160;</font>